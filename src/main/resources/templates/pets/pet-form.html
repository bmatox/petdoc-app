<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="pet-form-content">

    <form th:action="@{/pets}" th:object="${petDTO}" method="post">

        <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
            <p th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="nome" class="form-label">Nome do Pet *</label>
                <input type="text" class="form-control" id="nome" th:field="*{nome}" placeholder="Digite o nome do pet">
                <div class="text-danger small" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="especie" class="form-label">Espécie *</label>
                <select class="form-select" id="especie" th:field="*{especie}">
                    <option value="">Selecione...</option>
                    <option value="Cachorro">Cachorro</option>
                    <option value="Gato">Gato</option>
                </select>
                <div class="text-danger small" th:if="${#fields.hasErrors('especie')}" th:errors="*{especie}"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="raca" class="form-label">Raça</label>
                <select class="form-select" id="raca" th:field="*{raca}">
                    <option value="">Selecione uma espécie primeiro</option>
                </select>
                <div class="text-danger small" th:if="${#fields.hasErrors('raca')}" th:errors="*{raca}"></div>
            </div>
            <div class="col-md-6 mb-3">
                <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                <input type="date" class="form-control" id="dataNascimento" th:field="*{dataNascimento}">
                <div class="text-danger small" th:if="${#fields.hasErrors('dataNascimento')}" th:errors="*{dataNascimento}"></div>
            </div>
        </div>

        <div class="modal-footer px-0 pt-4">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary">Salvar Pet</button>
        </div>
    </form>

    <script th:src="@{/js/pet-form-handler.js}"></script>
</div>

</body>
</html>